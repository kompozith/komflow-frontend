<mat-card class="cardWithShadow mb-0">
      <mat-card-header>
        <mat-card-title>Create Tag</mat-card-title>
        <mat-card-subtitle>Add a new tag to categorize your contacts</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content>
        <form [formGroup]="tagForm" (ngSubmit)="onSubmit()">

          <div class="row">
            <div class="col-md-12 mb-3">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name" placeholder="Enter tag name">
                <mat-error *ngIf="tagForm.get('name')?.invalid && tagForm.get('name')?.touched" class="mb-3">
                  <span *ngIf="tagForm.get('name')?.errors?.['required']">Name is required</span>
                  <span *ngIf="tagForm.get('name')?.errors?.['minlength']">Name must be at least 2 characters</span>
                  <span *ngIf="tagForm.get('name')?.errors?.['maxlength']">Name must be less than 50 characters</span>
                </mat-error>
              </mat-form-field>
            </div>

            <div class="col-md-12 mb-3">
              <div class="d-flex flex-column">
                <label class="f-w-600 mb-2" style="font-size: 14px;">Color</label>
                <div class="d-flex align-items-center gap-12">
                  <input type="color" formControlName="color" style="width: 60px; height: 40px; border: 1px solid #ddd; border-radius: 4px; cursor: pointer;">
                  <small class="text-muted">Choose a color for visual identification</small>
                </div>
              </div>
            </div>
            <div class="col-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Description (Optional)</mat-label>
                <textarea
                  matInput
                  formControlName="description"
                  placeholder="Enter tag description"
                  rows="3"
                ></textarea>
                <mat-error *ngIf="tagForm.get('description')?.invalid && tagForm.get('description')?.touched">
                  <span *ngIf="tagForm.get('description')?.errors?.['maxlength']">Description must be less than 255 characters</span>
                </mat-error>
              </mat-form-field>
            </div>
          </div>

          <!-- Color Preview -->
          <div class="row">
            <div class="col-12">
              <div class="d-flex align-items-center gap-8 mb-3">
                <span class="f-w-600">Preview:</span>
                <div
                  class="rounded px-2 py-1 text-white"
                  [style.background-color]="tagForm.get('color')?.value"
                  style="font-size: 12px;"
                >
                  {{ tagForm.get('name')?.value || 'Tag Name' }}
                </div>
              </div>
            </div>
          </div>

          <div class="row mt-3">
            <div class="col-12">
              <div class="d-flex justify-content-end gap-10">
                <button mat-stroked-button type="button" (click)="onCancel()">
                  Cancel
                </button>
                <button
                  mat-flat-button
                  color="primary"
                  type="submit"
                  [disabled]="isLoading || tagForm.invalid">
                  <mat-spinner diameter="20" *ngIf="isLoading"></mat-spinner>
                  <span *ngIf="!isLoading">Create Tag</span>
                </button>
              </div>
            </div>
          </div>
        </form>
      </mat-card-content>
</mat-card>
